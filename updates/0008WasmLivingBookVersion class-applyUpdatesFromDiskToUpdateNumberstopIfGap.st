'From Squeak6.0alpha of 6 September 2020 [latest update: #19838] on 9 September 2020 at 10:55:50 am'!!WasmLivingBookVersion class methodsFor: 'fetching updates' stamp: 'edc 9/9/2020 10:55'!applyUpdatesFromDiskToUpdateNumber: lastUpdateNumber stopIfGap: stopIfGapFlag 	"To use this mechanism, be sure all updates you want to have considered 	are in a folder named 'updates' which resides in the same directory as  	your image. Having done that, simply evaluate:  	 	Utilities applyUpdatesFromDiskToUpdateNumber: 1234 stopIfGap: false  	 	and all numbered updates <= lastUpdateNumber not yet in the image will 	be loaded in numerical order."	| previousHighest currentUpdateNumber fileNames aMessage updateDirectory loaded |	updateDirectory := self getUpdateDirectoryOrNil.	updateDirectory ifNil: [^ self].	previousHighest := WasmLivingBookVersion current highestUpdate.	currentUpdateNumber := previousHighest.	.	loaded := 0.	fileNames := updateDirectory  fileNames select: [:any| any asInteger > WasmLivingBookVersion current highestUpdate] thenCollect: [:name| name].		fileNames do: [: ea|currentUpdateNumber := currentUpdateNumber + 1.		ChangeSet								newChangesFromStream: (updateDirectory readOnlyFileNamed: ea)								named: ea.														loaded := loaded + 1].						WasmLivingBookVersion current highestUpdate: currentUpdateNumber.	aMessage := loaded = 0				ifTrue: ['No new updates found.']				ifFalse: [loaded printString , ' update(s) loaded.'].	self inform: aMessage , 'Highest numbered update is now ' , (currentUpdateNumber - 1) printString , '.'! !