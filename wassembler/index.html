<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<meta charset="utf-8">
<title>Interactive Wassembler</title>
<link rel="stylesheet" type="text/css" href="wassembler.css">
<script src="third_party/peg-0.8.0.js"></script>
<script data-main="main" src="third_party/require.js"></script>
</head>
<body>
<h1>Interactive Wassembler</h1>
<div>
<div>
Demos: <a href="index.html?file=draw.wasm">draw.wasm</a> | <a href="index.html?file=raytrace.wasm">raytrace.wasm</a> | <a href="index.html?file=threading.wasm">threading.wasm</a>
</div>
<div>
<span><button id="eval">Eval</button></span>
<span><label><input id="animate" type="checkbox" />Animate</label></span>
<span><label><input id="show" type="checkbox" />Show Intermediate</label></span>
<span><input id="native" type="checkbox" /><label for="native">Native WASM</label></span>
<span><input id="shared_memory" type="checkbox" /><label for="shared_memory">Threads (work in progress)</label></span>
<span><a href="https://github.com/ncbray/wassembler">Repo</a></span>
<span><a href="tests.html">Tests</a></span>
</div>
<div>
<textarea id="code" cols="80" rows="30"></textarea>
<textarea id="terminal" cols="80" rows="30" readonly="true"></textarea>
</div>
<div id="intermediate">
<textarea id="ast" cols="80" rows="30" readonly="true"></textarea>
<textarea id="generated" cols="80" rows="30" readonly="true"></textarea>
</div>
<div>
<canvas id="canvas" width="256" height="256" style="background-color: #000"/>
</div>
<div>
<h2>Help</h2>
<ul>
<li>The first text area is editable. Hit "Eval" to recompile.</li>
<li>Supported types: i32, f32, f64, and void.</li>
<li>Semi-supported types: i64 - wrong answers for bit values. i8 and i16 - no constants, yet.</li>
<li>Basic arithmetic binary operators and comparisons are supported.</li>
<li>if, while, and return are supported.</li>
<li>memory name #size align #alignment; statically allocates memory.</li>
<li>loadI32(addr) and storeI32(addr, value) are memory accesses, and there are variants for other types.</li>
<li>Prefixing a function with "export" makes it visible to JS.</li>
<li>import func name(argtypes) returntype; declares a binding to a JS function.</li>
</ul>
</div>
</div>
</body>
<script>
print = function() {throw Error("tried to call print, did a debugging statement for d8 sneak in?");}

require(['main'], function(main){
  main.run();
});
</script>
</html>
