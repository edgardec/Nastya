'From Squeak5.3alpha of 13 December 2018 [latest update: #18222] on 15 October 2020 at 8:32:57 am'!Object subclass: #HVcaptchca	instanceVariableNames: ''	classVariableNames: 'Colores'	poolDictionaries: ''	category: 'HV-Divagaciones'!!HVcaptchca commentStamp: 'edc 4/3/2010 08:55' prior: 0!HVcaptchca last!!HVcaptchca methodsFor: 'initialize-release' stamp: 'edc 7/12/2015 18:22'!initialize	| unordered s cartel y fondo encript nC lC n x ind |	fondo := BorderedMorph new extent: 280 @ 150;				 borderWidth: 2;				 toggleStickiness;				 openInWorld.	nC := ($a to: $z) shuffled copyFrom: 1 to: 3.	(nC includes: $l)		ifTrue: [ind := nC indexOf: $l.			nC at: ind put: $1].	lC := ($a to: $z) shuffled copyFrom: 1 to: 2.	(lC includes: $l)		ifTrue: [ind := lC indexOf: $l.			lC at: ind put: $1].	n := ($1 to: $9) shuffled copyFrom: 1 to: 3.	unordered := (nC , lC , n) shuffled.		encript := String new.	x := 15.	encript := ($1 to: $9) atRandom asString.	unordered		do: [:char | encript := encript , char asString].	1		to: 9		do: [:i | 			s := (encript at: i) asString.			cartel := StringMorph						contents: s						font: ((TextStyle named: #ComicSansMS)								fontOfSize: 48).			y := (15 to: 80) atRandom.			cartel position: x @ y;				 color: self class colores atRandom.			x := x + 30.			fondo addMorphBack: cartel].	fondo addAlarm: #delete after: 5000.	self class last: encript.	Transcript show: encript;		 cr.	^ Array with: fondo imageForm with: encript! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!HVcaptchca class	instanceVariableNames: 'last'!!HVcaptchca class methodsFor: 'accessing' stamp: 'edc 9/28/2009 17:34'!colores^Colores! !!HVcaptchca class methodsFor: 'accessing' stamp: 'edc 12/19/2012 07:51'!colores: aDictionary" HVcaptchca colores: self"Colores:= aDictionary! !!HVcaptchca class methodsFor: 'accessing' stamp: 'edc 6/24/2015 18:38'!last^last! !!HVcaptchca class methodsFor: 'accessing' stamp: 'edc 4/3/2010 08:30'!last: aString	 last := aString! !!HVcaptchca class methodsFor: 'instance creation' stamp: 'edc 8/16/2010 11:09'!encript" HVcaptchca encript "	| unordered encript s |	unordered := (($A to: $Z) shuffled , ($a to: $z) shuffled , ($0 to: $9) shuffled) shuffled.	encript := String new.	1		to: 9		do: [:i | 			s := (unordered at: i) asString.			encript := encript , s]! !!HVcaptchca class methodsFor: 'instance creation' stamp: 'edc 1/26/2013 08:33'!oneDifferentIn15| scheduler |TaskScheduler stopAll.scheduler := TaskScheduler new.schedulerdo: [self new]every: 15 minutes.^self new! !!HVcaptchca class methodsFor: 'instance creation' stamp: 'edc 10/15/2020 08:24'!oneDifferentIn5" HVcaptchca oneDifferentIn5"| scheduler |TaskScheduler stopAll.scheduler := TaskScheduler new.scheduler start."Let's save the image every hour"schedulerdo: [self new]every: 5 minutes.^self new! !